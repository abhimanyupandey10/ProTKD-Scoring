:root{
  --bg:#0b0d10; --card:#151a21; --muted:#8a93a3; --text:#e7ecf3;
  --red:#e64040; --blue:#3b82f6; --green:#22c55e; --yellow:#f59e0b; --accent:#7c5cff;
  --border:#232a35;
}
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; background:var(--bg); color:var(--text); font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif; }
a{ color:var(--accent); text-decoration:none; }
.small{ font-size:12px; }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
.big{ font-size:20px; }
.hidden{ display:none; }
.mt{ margin-top:16px; }

.container{ max-width:1200px; margin:40px auto; padding:0 16px; }
.card{ background:var(--card); border:1px solid var(--border); border-radius:16px; padding:20px; box-shadow: 0 10px 30px rgba(0,0,0,.3); }
.card.wide{ padding:16px 20px 24px; }
.card.narrow{ max-width:480px; margin:40px auto; }
.header-row, .footer-row, .topbar{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.grid{ display:grid; }
.grid.two-col{ grid-template-columns:1fr 1fr; }
.grid.three-col{ grid-template-columns:repeat(3, 1fr); }
.gap{ gap:16px; }
.row.two{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.row.three{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; }
.subtle{ color:var(--muted); font-size:12px; }

label{ display:block; font-size:14px; margin:10px 0; }
input{ width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:#0f1319; color:var(--text); outline:none; }
input:focus{ border-color:#2c3544; }

.btn{ padding:10px 14px; background:#202633; border:1px solid var(--border); color:var(--text); border-radius:12px; cursor:pointer; }
.btn:hover{ background:#273041; }
.btn.primary{ background:var(--accent); border-color:#6951ff; }
.btn.primary:hover{ filter:brightness(1.05); }

.section{ padding:12px; border:1px dashed var(--border); border-radius:12px; }

.copy-row{ display:flex; gap:8px; }
.copy-row input{ flex:1; }

.app-intro{ display:flex; align-items:center; justify-content:center; height:30vh; }
.logo-anim{ font-weight:800; font-size:42px; letter-spacing:1px; opacity:0; transform: translateY(10px); animation: popin .9s ease-out forwards; }
.logo-part{ margin-right:8px; }
.glow{ color:var(--accent); text-shadow:0 0 16px rgba(124,92,255,.6); }
.fade-in{ animation: fade .6s .4s ease-out both; }
@keyframes popin{ to{ opacity:1; transform:none; } }
@keyframes fade{ from{ opacity:0; transform:translateY(6px);} to{ opacity:1; transform:none;} }

.status-row{ margin:10px 0 16px; color:var(--muted); }
.mono.badge{ background:#0f1319; border:1px solid var(--border); padding:6px 10px; border-radius:8px; display:inline-block; }

.ref-box{ padding:14px; border:1px solid var(--border); border-radius:12px; background:#0f1319; }
.ref-top{ display:flex; align-items:center; justify-content:space-between; }
.ref-name{ font-weight:600; }
.lights{ display:flex; gap:8px; align-items:center; }
.light{ width:12px; height:12px; border-radius:999px; background:#394153; border:1px solid var(--border); box-shadow: inset 0 0 4px rgba(0,0,0,.4); }
.light.on.blue{ background:linear-gradient(180deg, #5ea8ff, #2563eb); box-shadow:0 0 10px rgba(94,168,255,.7); }
.light.on.yellow{ background:linear-gradient(180deg, #ffd166, #f59e0b); box-shadow:0 0 10px rgba(255,209,102,.7); }

.ring{ display:grid; grid-template-columns:1fr 320px 1fr; gap:16px; margin:16px 0 20px; }
.corner{ border:1px solid var(--border); border-radius:16px; padding:16px; background:#0f1319; position:relative; }
.corner.red{ box-shadow: inset 0 0 0 2px rgba(230,64,64,.15); }
.corner.blue{ box-shadow: inset 0 0 0 2px rgba(59,130,246,.15); }
.score{ font-size:72px; font-weight:800; text-align:center; }
.small-row{ text-align:center; color:var(--muted); margin-top:6px; }
.round-lights{ display:flex; gap:8px; justify-content:center; margin:10px 0; }
.dot{ width:12px; height:12px; border-radius:999px; background:#2a3242; }
.dot.on.red{ background:var(--red); box-shadow:0 0 8px rgba(230,64,64,.6); }
.dot.on.blue{ background:var(--blue); box-shadow:0 0 8px rgba(59,130,246,.6); }
.replay{ display:flex; gap:8px; justify-content:center; align-items:center; margin:8px 0; }
.card-icon{ width:18px; height:24px; border-radius:4px; border:2px solid #2b3342; display:inline-block; }
.card-icon.on.red{ border-color: var(--red); box-shadow:0 0 8px rgba(230,64,64,.6) inset; }
.card-icon.on.blue{ border-color: var(--blue); box-shadow:0 0 8px rgba(59,130,246,.6) inset; }

.ops{ display:grid; grid-template-columns:repeat(4,1fr); gap:8px; margin-top:10px; }

.centerbox{ border:1px solid var(--border); border-radius:16px; padding:16px; background:#0f1319; text-align:center; }
.round{ font-weight:600; margin-bottom:8px; }
.timer{ font-size:48px; margin:6px 0; }
.state{ color:var(--muted); margin:6px 0; }
.timeops{ display:flex; gap:8px; justify-content:center; }

.topbar{ margin-bottom:8px; }
.topbar .center{ flex:1; display:flex; justify-content:center; }
.topbar .category{ width:360px; text-align:center; font-size:16px; }

.overlay{ position:fixed; inset:0; backdrop-filter: blur(6px); background:rgba(0,0,0,.45); display:flex; align-items:center; justify-content:center; z-index:50; }
.overlay.hidden{ display:none; }
.overlay-card{ width:min(90vw, 520px); background:var(--card); border:1px solid var(--border); border-radius:16px; padding:16px; }
.overlay-title{ font-size:18px; margin-bottom:8px; }
.overlay-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin:12px 0; }
.overlay-box{ height:64px; border-radius:12px; border:1px solid var(--border); background:#0f1319; display:flex; align-items:center; justify-content:center; color:var(--muted); }
.overlay-box.on{ background:#3a3006; color:#f6c453; border-color:#5b4a0a; box-shadow: inset 0 0 10px rgba(246,196,83,.25); }

.help{ margin-top:8px; color:var(--muted); }
body.referee-body {
  background: #121212;
  color: #f5f5f5;
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
  text-align: center;
}

.app-title {
  margin-bottom: 10px;
}

.connection-status {
  margin-bottom: 20px;
  font-weight: bold;
}

.card {
  background: #1e1e1e;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 20px;
}

.card input {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
  border: none;
  border-radius: 5px;
}

.hidden {
  display: none;
}

.button-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin: 20px 0;
}

button {
  padding: 15px;
  border: none;
  border-radius: 8px;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
}

.btn-primary {
  background: #2196f3;
  color: white;
}

.btn-secondary {
  background: #444;
  color: white;
  width: 100%;
  margin-top: 15px;
}

.btn-blue { background: #0d6efd; color: white; }
.btn-red { background: #dc3545; color: white; }
.btn-yellow { background: #ffc107; color: black; }
